<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Estad√≠sticas Juicios</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<canvas id="grafico"></canvas>
<script>
async function cargar() {
  const res = await fetch('/datos');
  const datos = await res.json();
  const labels = datos.fichas.map(f => f.codigo);
  const completos = datos.fichas.map(f => f.completos);
  const faltantes = datos.fichas.map(f => f.faltantes);

  new Chart(document.getElementById('grafico'), {
    type: 'bar',
    data: {
      labels,
      datasets: [
        { label: 'Completos', data: completos, backgroundColor: 'green' },
        { label: 'Faltantes', data: faltantes, backgroundColor: 'red' }
      ]
    }
  });
}
cargar();
</script>
</body>
</html>