<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Estad√≠sticas Juicios</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <canvas id="grafico"></canvas>
    <script>
        async function cargar() {
            const res = await fetch('/datos');
            const datos = await res.json();
            const labels = datos.fichas.map(f => f.codigo);
            const porEvaluar = datos.fichas.map(f => f.porEvaluar || 0);
            const aprobados = datos.fichas.map(f => f.aprobados || 0);

            new Chart(document.getElementById('grafico'), {
                type: 'bar',
                data: {
                    labels,
                    datasets: [
                        { label: 'Por evaluar', data: porEvaluar, backgroundColor: 'orange' },
                        { label: 'Aprobados', data: aprobados, backgroundColor: 'green' },
                    ]
                }
            });
        }
        cargar();
    </script>
</body>

</html>